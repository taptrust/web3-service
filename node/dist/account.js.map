{"version":3,"sources":["../src/account.js"],"names":["Datastore","require","datastore","projectId","keyFilename","getUsers","query","createQuery","order","descending","limit","runQuery","then","results","entities","map","entity","username"],"mappings":";;;;;;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,YAAYC,QAAQ,yBAAR,CAAlB;;AAEA;AACA,IAAMC,YAAY,IAAIF,SAAJ,CAAc;AAC9BG,aAAW,WADmB;AAE9BC,eAAa;AACb;AAH8B,CAAd,CAAlB;;AAQA;;;AAGA,IAAMC,WAAW,SAAXA,QAAW,GAAM;AACrB,MAAMC,QAAQJ,UAAUK,WAAV,CAAsB,MAAtB,EACXC,KADW,CACL,SADK,EACM,EAAEC,YAAY,IAAd,EADN,EAEXC,KAFW,CAEL,EAFK,CAAd;;AAIA,SAAOR,UAAUS,QAAV,CAAmBL,KAAnB,EACJM,IADI,CACC,UAACC,OAAD,EAAa;AACjB,QAAMC,WAAWD,QAAQ,CAAR,CAAjB;AACA,WAAOC,SAASC,GAAT,CAAa,UAACC,MAAD;AAAA,4BAAyBA,OAAOC,QAAhC;AAAA,KAAb,CAAP;AACD,GAJI,CAAP;AAKD,CAVD;;QAeIZ,Q,GAAAA,Q","file":"account.js","sourcesContent":["\n// By default, the client will authenticate using the service account file\n// specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable and use\n// the project specified by the GOOGLE_CLOUD_PROJECT environment variable. See\n// https://github.com/GoogleCloudPlatform/google-cloud-node/blob/master/docs/authentication.md\n// These environment variables are set automatically on Google App Engine\nconst Datastore = require('@google-cloud/datastore');\n\n// Creates a client\nconst datastore = new Datastore({\n  projectId: 'tap-trust',\n  keyFilename: '../service_account.json'\n  // service_account.json is not included in git repository\n});\n\n\n\n/**\n * Retrieve the latest 10 user records from the database.\n */\nconst getUsers = () => {\n  const query = datastore.createQuery('User')\n    .order('created', { descending: true })\n    .limit(10);\n\n  return datastore.runQuery(query)\n    .then((results) => {\n      const entities = results[0];\n      return entities.map((entity) => `Username: ${entity.username}`);\n    });\n}\n\n\n\nexport {\n    getUsers\n};\n"]}