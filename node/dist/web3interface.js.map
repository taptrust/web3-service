{"version":3,"sources":["../src/web3interface.js"],"names":["transactionCount","web3","eth","getTransactionCount","signingAccount","address","nextNonce","Web3","require","accounts","privateKeyToAccount","fs","ProxyWallet","JSON","parse","readFileSync","ProxyWalletABI","FactoryAddress","WalletFactory","WalletFactoryABI","getWalletContract","contractAddress","Contract","from","gas","gasPrice","FactoryContract"],"mappings":";;;;;;;;;;;;;;;;qFA+BA;AAAA;AAAA;AAAA;AAAA;AAAA,YACIA,mBAAmB,CADvB;AAAA;AAAA;AAAA;;AAAA;AAAA,aAE2BC,KAAKC,GAAL,CAASC,mBAAT,CAA6BC,eAAeC,OAA5C,EAAqD,SAArD,CAF3B;;AAAA;AAEEL,sBAFF;;AAAA;AAAA,uCAIQA,kBAJR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,E;;iBAAeM,S;;;;;;;AA/Bf,IAAMC,OAAOC,QAAQ,MAAR,CAAb;;AAEA,IAAMP,OAAO,IAAIM,IAAJ,CAAS,+DAAT,CAAb;AACA,IAAMH,iBAAiBH,KAAKC,GAAL,CAASO,QAAT,CAAkBC,mBAAlB,CAAsC,oEAAtC,CAAvB,C,CAAmI;;AAEnI,IAAMC,KAAKH,QAAQ,IAAR,CAAX;AACA,IAAMI,cAAcC,KAAKC,KAAL,CAAWH,GAAGI,YAAH,CAAgB,8BAAhB,EAAgD,MAAhD,CAAX,CAApB;AACA,IAAMC,iBAAiBJ,YAAY,KAAZ,CAAvB;;AAEA,IAAMK,iBAAiB,4CAAvB;AACA,IAAMC,gBAAgBL,KAAKC,KAAL,CAAWH,GAAGI,YAAH,CAAgB,gCAAhB,EAAkD,MAAlD,CAAX,CAAtB;AACA,IAAMI,mBAAmBD,cAAc,KAAd,CAAzB;;AAEA,IAAIlB,mBAAmB,CAAC,CAAxB;;AAEA,IAAMoB,oBAAoB,SAApBA,iBAAoB,CAASC,eAAT,EAA0B;AACnD,QAAO,IAAIpB,KAAKC,GAAL,CAASoB,QAAb,CAAsBN,cAAtB,EAAsCK,eAAtC,EACP;AACCE,QAAMnB,eAAeC,OADtB;AAECmB,OAAK,SAFN;AAGCC,YAAU;AAHX,EADO,CAAP;AAMA,CAPD;;AASA,IAAMC,kBAAkB,IAAIzB,KAAKC,GAAL,CAASoB,QAAb,CAAsBH,gBAAtB,EAAwCF,cAAxC,EACvB;AACCM,OAAMnB,eAAeC,OADtB;AAECmB,MAAK,SAFN;AAGCC,WAAU;AAHX,CADuB,CAAxB;;QAeIxB,I,GAAAA,I;QAAMG,c,GAAAA,c;QAAgBY,c,GAAAA,c;QAAgBI,iB,GAAAA,iB;QAAmBH,c,GAAAA,c;QAAgBS,e,GAAAA,e;QAAiBpB,S,GAAAA,S","file":"web3interface.js","sourcesContent":["const Web3 = require('web3');\n\nconst web3 = new Web3('https://ropsten.infura.io/v3/155f5547dd0e4ab09bded202e8bcc08a');\nconst signingAccount = web3.eth.accounts.privateKeyToAccount('0x943eed2a06c4ba5991cf724ead779bebca00a7e47d3f29a2a334c7447a763b95');//('0x' + process.env.TAPTRUST_PRIVATEKEY);\n\nconst fs = require('fs');\nconst ProxyWallet = JSON.parse(fs.readFileSync('./contracts/ProxyWallet.json', 'utf8'));\nconst ProxyWalletABI = ProxyWallet['abi'];\n\nconst FactoryAddress = '0xe111577f52389a845ee432c99ba1bf86fa08da00'; \nconst WalletFactory = JSON.parse(fs.readFileSync('./contracts/WalletFactory.json', 'utf8'));\nconst WalletFactoryABI = WalletFactory['abi'];\n\nvar transactionCount = -1;\n\nconst getWalletContract = function(contractAddress) {\n\treturn new web3.eth.Contract(ProxyWalletABI, contractAddress,\n\t{\n\t\tfrom: signingAccount.address,\n\t\tgas: '1500000',\n\t\tgasPrice: 20000000000,\n\t});\n}\n\nconst FactoryContract = new web3.eth.Contract(WalletFactoryABI, FactoryAddress,\n\t{\n\t\tfrom: signingAccount.address,\n\t\tgas: '1500000',\n\t\tgasPrice: 20000000000,\n\t});\n\t\nasync function nextNonce() {\n\tif(transactionCount < 0) {\n\t\ttransactionCount = await web3.eth.getTransactionCount(signingAccount.address, \"pending\");\n\t}\n\treturn transactionCount++;\n}\n\nexport {\n    web3, signingAccount, ProxyWalletABI, getWalletContract, FactoryAddress, FactoryContract, nextNonce\n};\n"]}